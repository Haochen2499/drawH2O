(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{"2af1":function(t,e,o){var n=o("23e7"),i=o("f748");n({target:"Math",stat:!0},{sign:i})},"4a55":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"wrap"},[o("div",{staticClass:"type-select-wrap"},t._l(t.INFO_TYPE,(function(e){return o("div",{key:e.type,staticClass:"type-item",class:{active:t.currentType===e.type},on:{click:function(o){return t.handleSelectType(e.type)}}},[o("p",[t._v(t._s(e.name))])])})),0),o("Scroll",{staticClass:"scroller",attrs:{height:"700","on-reach-bottom":t.getMoreList}},[o("div",{staticClass:"list-wrap"},t._l(t.list,(function(e){return o("div",{key:e.url,staticClass:"list-item",class:{"img-list":e.cover_url}},[o("div",{staticClass:"left"},[e.cover_url?o("img",{attrs:{src:t.imgUrl(e.cover_url)}}):t._e(),o("a",{staticClass:"url",attrs:{href:t.newsUrl(e),target:"_blank"}},[t._v(" "+t._s(e.title)+" ")])]),o("div",{staticClass:"right"},[o("span",[t._v(t._s(t.timeParser(e.createdAt)))])])])})),0)])],1)])},i=[],r=(o("99af"),o("d3b7"),o("2909")),s=(o("96cf"),o("1da1")),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.wrapClasses,staticStyle:{"touch-action":"none"}},[o("div",{ref:"scrollContainer",class:t.scrollContainerClasses,style:{height:t.height+"px"},on:{scroll:t.handleScroll,wheel:t.onWheel,touchstart:t.onPointerDown}},[o("div",{ref:"toploader",class:t.loaderClasses,style:{paddingTop:t.wrapperPadding.paddingTop}},[o("loader",{attrs:{text:t.localeLoadingText,active:t.showTopLoader}})],1),o("div",{ref:"scrollContent",class:t.slotContainerClasses},[t._t("default")],2),o("div",{ref:"bottomLoader",class:t.loaderClasses,style:{paddingBottom:t.wrapperPadding.paddingBottom}},[o("loader",{attrs:{text:t.localeLoadingText,active:t.showBottomLoader}})],1)])])},c=[],l=(o("4160"),o("2af1"),o("a9e3"),o("3ca3"),o("ddb0"),o("ade3")),u=o("84a2"),h=o.n(u),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.wrapperClasses},[o("div",{class:t.spinnerClasses},[o("Spin",{attrs:{fix:""}},[o("Icon",{class:t.iconClasses,attrs:{type:"ios-loading",size:"18"}}),t.text?o("div",{class:t.textClasses},[t._v(t._s(t.text))]):t._e()],1)],1)])},f=[],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[t.fullscreenVisible?o("div",{class:t.classes},[o("div",{class:t.mainClasses},[o("span",{class:t.dotClasses}),o("div",{class:t.textClasses},[t._t("default")],2)])]):t._e()])},m=[],g=o("3a27"),v=o("b2e6"),b="ivu-spin",T={name:"Spin",mixins:[v["a"]],props:{size:{validator:function(t){return Object(g["h"])(t,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{showText:!1,visible:!1}},computed:{classes:function(){var t;return["".concat(b),(t={},Object(l["a"])(t,"".concat(b,"-").concat(this.size),!!this.size),Object(l["a"])(t,"".concat(b,"-fix"),this.fix),Object(l["a"])(t,"".concat(b,"-show-text"),this.showText),Object(l["a"])(t,"".concat(b,"-fullscreen"),this.fullscreen),t)]},mainClasses:function(){return"".concat(b,"-main")},dotClasses:function(){return"".concat(b,"-dot")},textClasses:function(){return"".concat(b,"-text")},fullscreenVisible:function(){return!this.fullscreen||this.visible}},watch:{visible:function(t){t?this.addScrollEffect():this.removeScrollEffect()}},mounted:function(){this.showText=void 0!==this.$slots.default}},y=T,w=o("2877"),x=Object(w["a"])(y,p,m,!1,null,null,null),C=x.exports,S=o("099a"),L="ivu-scroll",P={props:["text","active","spinnerHeight"],components:{Spin:C,Icon:S["a"]},computed:{wrapperClasses:function(){return["".concat(L,"-loader-wrapper"),Object(l["a"])({},"".concat(L,"-loader-wrapper-active"),this.active)]},spinnerClasses:function(){return"".concat(L,"-spinner")},iconClasses:function(){return"".concat(L,"-spinner-icon")},textClasses:function(){return"".concat(L,"-loader-text")}}},R=P,_=Object(w["a"])(R,d,f,!1,null,null,null),O=_.exports,B=o("de48"),E=o("871f"),j="ivu-scroll",$={sensitivity:10,minimumStartDragOffset:5},M=function(){return Promise.resolve()},k={name:"Scroll",mixins:[E["a"]],components:{loader:O},props:{height:{type:[Number,String],default:300},onReachTop:{type:Function},onReachBottom:{type:Function},onReachEdge:{type:Function},loadingText:{type:String},distanceToEdge:[Number,Array]},data:function(){var t=this.calculateProximityThreshold();return{showTopLoader:!1,showBottomLoader:!1,showBodyLoader:!1,lastScroll:0,reachedTopScrollLimit:!0,reachedBottomScrollLimit:!1,topRubberPadding:0,bottomRubberPadding:0,rubberRollBackTimeout:!1,isLoading:!1,pointerTouchDown:null,touchScroll:!1,handleScroll:function(){},pointerUpHandler:function(){},pointerMoveHandler:function(){},topProximityThreshold:t[0],bottomProximityThreshold:t[1]}},computed:{wrapClasses:function(){return"".concat(j,"-wrapper")},scrollContainerClasses:function(){return"".concat(j,"-container")},slotContainerClasses:function(){return["".concat(j,"-content"),Object(l["a"])({},"".concat(j,"-content-loading"),this.showBodyLoader)]},loaderClasses:function(){return"".concat(j,"-loader")},wrapperPadding:function(){return{paddingTop:this.topRubberPadding+"px",paddingBottom:this.bottomRubberPadding+"px"}},localeLoadingText:function(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText}},methods:{waitOneSecond:function(){return new Promise((function(t){setTimeout(t,1e3)}))},calculateProximityThreshold:function(){var t=this.distanceToEdge;return"undefined"==typeof t?[20,20]:Array.isArray(t)?t:[t,t]},onCallback:function(t){var e=this;this.isLoading=!0,this.showBodyLoader=!0,t>0?(this.showTopLoader=!0,this.topRubberPadding=20):function(){e.showBottomLoader=!0,e.bottomRubberPadding=20;for(var t=0,o=e.$refs.scrollContainer,n=o.scrollTop,i=0;i<20;i++)setTimeout((function(){t=Math.max(t,e.$refs.bottomLoader.getBoundingClientRect().height),o.scrollTop=n+t}),50*i)}();var o=[this.waitOneSecond(),this.onReachEdge?this.onReachEdge(t):M()];o.push(t>0?this.onReachTop?this.onReachTop():M():this.onReachBottom?this.onReachBottom():M());var n=setTimeout((function(){e.reset()}),5e3);Promise.all(o).then((function(){clearTimeout(n),e.reset()}))},reset:function(){var t=this;["showTopLoader","showBottomLoader","showBodyLoader","isLoading","reachedTopScrollLimit","reachedBottomScrollLimit"].forEach((function(e){return t[e]=!1})),this.lastScroll=0,this.topRubberPadding=0,this.bottomRubberPadding=0,clearInterval(this.rubberRollBackTimeout),this.touchScroll&&setTimeout((function(){Object(B["a"])(window,"touchend",t.pointerUpHandler),t.$refs.scrollContainer.removeEventListener("touchmove",t.pointerMoveHandler),t.touchScroll=!1}),500)},onWheel:function(t){if(!this.isLoading){var e=t.wheelDelta?t.wheelDelta:-(t.detail||t.deltaY);this.stretchEdge(e)}},stretchEdge:function(t){var e=this;if(clearTimeout(this.rubberRollBackTimeout),!this.onReachEdge)if(t>0){if(!this.onReachTop)return}else if(!this.onReachBottom)return;this.rubberRollBackTimeout=setTimeout((function(){e.isLoading||e.reset()}),250),t>0&&this.reachedTopScrollLimit?(this.topRubberPadding+=5-this.topRubberPadding/5,this.topRubberPadding>this.topProximityThreshold&&this.onCallback(1)):t<0&&this.reachedBottomScrollLimit?(this.bottomRubberPadding+=6-this.bottomRubberPadding/4,this.bottomRubberPadding>this.bottomProximityThreshold&&this.onCallback(-1)):this.onScroll()},onScroll:function(){var t=this.$refs.scrollContainer;if(!this.isLoading&&t){var e=Math.sign(this.lastScroll-t.scrollTop),o=t.scrollHeight-t.clientHeight-t.scrollTop,n=this.topProximityThreshold<0?this.topProximityThreshold:0,i=this.bottomProximityThreshold<0?this.bottomProximityThreshold:0;-1==e&&o+i<=$.sensitivity?this.reachedBottomScrollLimit=!0:e>=0&&t.scrollTop+n<=0?this.reachedTopScrollLimit=!0:(this.reachedTopScrollLimit=!1,this.reachedBottomScrollLimit=!1,this.lastScroll=t.scrollTop)}},getTouchCoordinates:function(t){return{x:t.touches[0].pageX,y:t.touches[0].pageY}},onPointerDown:function(t){var e=this;if(!this.isLoading){if("touchstart"==t.type){var o=this.$refs.scrollContainer;this.reachedTopScrollLimit?o.scrollTop=5:this.reachedBottomScrollLimit&&(o.scrollTop-=5)}"touchstart"==t.type&&0==this.$refs.scrollContainer.scrollTop&&(this.$refs.scrollContainer.scrollTop=5),this.pointerTouchDown=this.getTouchCoordinates(t),Object(B["b"])(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.parentElement.addEventListener("touchmove",(function(t){t.stopPropagation(),e.pointerMoveHandler(t)}),{passive:!1,useCapture:!0})}},onPointerMove:function(t){if(this.pointerTouchDown&&!this.isLoading){var e=this.getTouchCoordinates(t),o=e.y-this.pointerTouchDown.y;if(this.stretchEdge(o),!this.touchScroll){var n=Math.abs(o)>$.minimumStartDragOffset;n&&(this.touchScroll=!0)}}},onPointerUp:function(){this.pointerTouchDown=null}},created:function(){this.handleScroll=h()(this.onScroll,150,{leading:!1}),this.pointerUpHandler=this.onPointerUp.bind(this),this.pointerMoveHandler=h()(this.onPointerMove,50,{leading:!1})}},D=k,I=Object(w["a"])(D,a,c,!1,null,null,null),H=I.exports,U=H,z=[{type:"hupu",name:"虎扑"},{type:"huashui",name:"划水专栏"},{type:"toutiao",name:"今日头条"},{type:"zhihu",name:"知乎"},{type:"smzdm",name:"什么值得买"},{type:"weibo",name:"微博热搜"},{type:"xiachufang",name:"下厨房"},{type:"nga",name:"NGA"}],W=o("1c1e"),F=o("c206"),N=o.n(F),A=function(t){var e=N()(t),o=36e5,n=Math.floor(N()().diff(e)/o);switch(!0){case 0===n:return"刚刚";case n<24&&n>0:return"".concat(n,"小时前");case n>720:return e.format("MM-DD");default:return"".concat(Math.floor(n/24),"天前")}},V={name:"Index",components:{Scroll:U},data:function(){return{INFO_TYPE:z,currentType:z[0].type,list:[],page:1,count:0,loading:!1}},created:function(){console.log("production"),this.getList()},methods:{handleSelectType:function(t){this.currentType=t,this.getList()},getList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.loading){o.next=2;break}return o.abrupt("return");case 2:return t?e.page++:e.page=1,e.loading=!0,o.next=6,W["a"].get("/api/info/get_list",{type:e.currentType,page:e.page,pageSize:50});case 6:n=o.sent,e.loading=!1,0===n.error_code&&(i=n.data.list,t?(e.list=[].concat(Object(r["a"])(e.list),Object(r["a"])(i)),console.log(e.list)):(e.list=i,e.count=n.data.count));case 9:case"end":return o.stop()}}),o)})))()},getMoreList:function(){var t=this;return new Promise((function(e){if(t.list.length===t.count)return console.log("no more"),void e();t.getList(!0).then((function(){e()}))}))},timeParser:A,imgUrl:function(t){var e="";return e+t},newsUrl:function(t){return"huashui"===t.infoFrom?"/#/article/".concat(t.id):t.url}}},Y=V,J=(o("c7b7"),Object(w["a"])(Y,n,i,!1,null,"21cbc488",null));e["default"]=J.exports},"5c4e":function(t,e,o){},"84a2":function(t,e,o){(function(e){var o="Expected a function",n=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),f=Object.prototype,p=f.toString,m=Math.max,g=Math.min,v=function(){return d.Date.now()};function b(t,e,n){var i,r,s,a,c,l,u=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError(o);function p(e){var o=i,n=r;return i=r=void 0,u=e,a=t.apply(n,o),a}function b(t){return u=t,c=setTimeout(x,e),h?p(t):a}function T(t){var o=t-l,n=t-u,i=e-o;return d?g(i,s-n):i}function w(t){var o=t-l,n=t-u;return void 0===l||o>=e||o<0||d&&n>=s}function x(){var t=v();if(w(t))return S(t);c=setTimeout(x,T(t))}function S(t){return c=void 0,f&&i?p(t):(i=r=void 0,a)}function L(){void 0!==c&&clearTimeout(c),u=0,i=l=r=c=void 0}function P(){return void 0===c?a:S(v())}function R(){var t=v(),o=w(t);if(i=arguments,r=this,l=t,o){if(void 0===c)return b(l);if(d)return c=setTimeout(x,e),p(l)}return void 0===c&&(c=setTimeout(x,e)),a}return e=C(e)||0,y(n)&&(h=!!n.leading,d="maxWait"in n,s=d?m(C(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),R.cancel=L,R.flush=P,R}function T(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(o);return y(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),b(t,e,{leading:i,maxWait:e,trailing:r})}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||w(t)&&p.call(t)==i}function C(t){if("number"==typeof t)return t;if(x(t))return n;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var o=a.test(t);return o||c.test(t)?l(t.slice(2),o?2:8):s.test(t)?n:+t}t.exports=T}).call(this,o("c8ba"))},c7b7:function(t,e,o){"use strict";var n=o("5c4e"),i=o.n(n);i.a},f748:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}}}]);
//# sourceMappingURL=index.d52723ce.js.map